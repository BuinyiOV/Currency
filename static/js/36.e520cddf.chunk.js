"use strict";(self.webpackChunkcurrency=self.webpackChunkcurrency||[]).push([[36],{361:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(982),r=n(885),c=n(791),s=n(165),u=n(861),o=function(){var e=function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var t=(0,u.Z)((0,s.Z)().mark((function t(){var r,c,u,o,i,l,d,f;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json");case 2:return r=t.sent,c=[r.find((function(e){return"USD"===e.cc}))],u=[r.find((function(e){return"EUR"===e.cc}))],o=[r.find((function(e){return"PLN"===e.cc}))],i=[{r030:1,txt:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u0433\u0440\u0438\u0432\u043d\u044f",cc:"UAH",rate:1,exchangedate:r.find((function(e){return"USD"===e.cc})).exchangedate}],l=(0,a.Z)(r),(d=function(e,t){t.splice(t.findIndex((function(n){return n===t.find((function(t){return t.cc===e}))})),1)})("USD",l),d("EUR",l),d("PLN",l),f=[].concat(c,u,o,i,(0,a.Z)(l.sort((function(e,t){return e.txt.localeCompare(t.txt)})))),t.abrupt("return",f.map(n));case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(e){return{id:e.r030,name:e.txt,codeName:e.cc,rate:e.rate,exchangeDate:e.exchangedate}};return{getAllCurrences:t}},i=n(184),l=function(e){var t=e.onCurrencyServiceRun,n=e.list,a=(0,c.useState)([]),s=(0,r.Z)(a,2),u=(s[0],s[1]),o=(0,c.useState)([]),l=(0,r.Z)(o,2),d=l[0],f=l[1];return(0,c.useEffect)((function(){u(t())}),[t]),(0,c.useEffect)((function(){f(n)}),[n]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("ul",{className:"dropdown-menu dropdown-menu-end bg-primary-subtle overflow-y-auto",style:{maxHeight:"40vh"},children:d})})},d=function(e){var t=e.language,n=o().getAllCurrences,s=(0,c.useState)([]),u=(0,r.Z)(s,2),d=u[0],f=u[1],h=(0,c.useCallback)((function(){n().then((function(e){var n;switch(t){case"EN":case"PL":default:n=!1;break;case"UA":n=!0}var r=[];e.forEach((function(e){var t=function(e){return n?e.name:""},c=[(0,i.jsx)("li",{style:{listStyleType:"none"},children:(0,i.jsxs)("button",{className:"dropdown-item fs-5 text-center",href:"#",value:e.codeName,"data-rate":e.rate,"data-label":t(e),"data-exchangedate":e.exchangeDate,children:[e.codeName," ",t(e)]})},e.id)];r=[].concat((0,a.Z)(r),c),f((0,a.Z)(r))}))}))}),[t]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l,{onCurrencyServiceRun:h,list:d})})}},36:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var a=n(982),r=n(885),c=n(791),s=n(165),u=n(861),o=function(){var e=function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=function(){var t=(0,u.Z)((0,s.Z)().mark((function t(c){var u,o,i,l,d;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=[],o=0;case 2:if(!(o<10)){t.next=12;break}return t.next=5,e("https://bank.gov.ua/NBUStatService/v1/statdirectory/exchangenew?date=".concat(r(o),"&json"));case 5:i=t.sent,l=[{id:1,name:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u0433\u0440\u0438\u0432\u043d\u044f",codeName:"UAH",rate:1,exchangeDate:i.find((function(e){return"USD"===e.cc})).exchangedate}],d=(0,a.Z)(i.map(n)),u=[].concat((0,a.Z)(u),(0,a.Z)(d),l);case 9:o++,t.next=2;break;case 12:return t.abrupt("return",u);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(e){return{id:e.r030,name:e.txt,codeName:e.cc,rate:e.rate,exchangeDate:e.exchangedate}},r=function(e){var t=new Date(new Date-864e5*e);return"20"+(t=[""+t.getFullYear(),"0"+(t.getMonth()+1),"0"+t.getDate()].map((function(e){return e.slice(-2)}))).slice(0,3).join("")};return{getCurrencesByExchangeDate:t}},i=n(361),l=n(184),d=function(e){var t=e.onClick,n=e.mvpName;return(0,l.jsxs)("div",{className:"dropdown",onClick:t,children:[(0,l.jsx)("button",{className:"btn btn-primary mb-4 fs-4 shadow dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:n}),(0,l.jsx)(i.Z,{})]})},f=n(671),h=n(144),m=n(340),x=n(882),p=n(393),v=p.Z.CanvasJS,g=p.Z.CanvasJSChart,b=function(e){(0,m.Z)(n,e);var t=(0,x.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"render",value:function(){var e={animationEnabled:!0,theme:"light2",axisX:{valueFormatString:"DD MM",crosshair:{enabled:!0,snapToDataPoint:!0}},axisY:{valueFormatString:"0.0000",crosshair:{enabled:!0,snapToDataPoint:!0,labelFormatter:function(e){return v.formatNumber(e.value,"0.0000")}}},data:[{color:"#0d6efd",type:"area",xValueFormatString:"DD MMM",yValueFormatString:"0.0000",dataPoints:this.props.chartData}]};return(0,l.jsx)("div",{className:"mb-5",children:(0,l.jsx)(g,{options:e,chartData:this.props.chartData,chartName:this.props.chartName})})}}]),n}(c.Component),Z=b,N=function(e){var t=e.onGetCurrenciesByExchangeDate,n=e.allCurrencies,s=e.selectedMvp,u=(0,c.useState)([]),o=(0,r.Z)(u,2),i=(o[0],o[1]),f=(0,c.useState)([]),h=(0,r.Z)(f,2),m=h[0],x=h[1],p=(0,c.useState)("USD"),v=(0,r.Z)(p,2),g=v[0],b=v[1],N=(0,c.useState)([]),w=(0,r.Z)(N,2),j=w[0],y=w[1],S=(0,c.useState)("EUR"),D=(0,r.Z)(S,2),k=D[0],C=D[1],E=(0,c.useState)([]),U=(0,r.Z)(E,2),L=U[0],F=U[1],P=(0,c.useState)("PLN"),M=(0,r.Z)(P,2),A=M[0],R=M[1],B=(0,c.useState)([]),H=(0,r.Z)(B,2),T=H[0],$=H[1];(0,c.useEffect)((function(){i(t())}),[t,s]),(0,c.useEffect)((function(){x(n)}),[n]),(0,c.useEffect)((function(){G(),J(),V()}),[m]);var G=function(e){e&&e.target.classList.contains("dropdown-item")?Y(e.target.value,b,y):Y("USD"===g?"USD":g,b,y)},J=function(e){e&&e.target.classList.contains("dropdown-item")?Y(e.target.value,C,F):Y("EUR"===k?"EUR":k,C,F)},V=function(e){e&&e.target.classList.contains("dropdown-item")?Y(e.target.value,R,$):Y("PLN"===A?"PLN":A,R,$)},Y=function(e,t,n){var r=[];m.filter((function(t){return t.codeName===e})).forEach((function(e,t){var n=m.filter((function(e){return e.codeName===s}))[t].rate,c=[{x:new Date(e.exchangeDate.replace(/(\d+).(\d+).(\d+)/,"$3-$2-$1")),y:I(n,e.rate)}];r=[].concat((0,a.Z)(r),c)})),n(r),t(e)},I=function(e,t){if(1*Number(t)/Number(e)<1/0)return Math.round(1*Number(t)/Number(e)*1e3)/1e3};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"container-fluid text-center bg-primary-subtle rounded py-1",children:(0,l.jsxs)("div",{className:"row p-1",children:[(0,l.jsxs)("div",{className:"col-lg-4",children:[(0,l.jsx)(d,{onClick:G,mvpName:g}),(0,l.jsx)(Z,{chartData:j,chartName:g})]}),(0,l.jsxs)("div",{className:"col-lg-4",children:[(0,l.jsx)(d,{onClick:J,mvpName:k}),(0,l.jsx)(Z,{chartData:L,chartName:k})]}),(0,l.jsxs)("div",{className:"col-lg-4",children:[(0,l.jsx)(d,{onClick:V,mvpName:A}),(0,l.jsx)(Z,{chartData:T,chartName:A})]})]})})})},w=function(e){var t,n=e.language,s=o().getCurrencesByExchangeDate,u=(0,c.useState)([]),d=(0,r.Z)(u,2),f=d[0],h=d[1],m=(0,c.useState)("UAH"),x=(0,r.Z)(m,2),p=x[0],v=x[1];switch(n){case"EN":default:t="Changes in the value of currencies within 10 days relative to: ";break;case"PL":t="Zmiany warto\u015bci walut w ci\u0105gu 10 dni w stosunku do: ";break;case"UA":t="\u0417\u043c\u0456\u043d\u0438 \u0432\u0430\u0440\u0442\u043e\u0441\u0442\u0456 \u0432\u0430\u043b\u044e\u0442 \u043f\u0440\u043e\u0442\u044f\u0433\u043e\u043c 10 \u0434\u043d\u0456\u0432 \u0432\u0456\u0434\u043d\u043e\u0441\u043d\u043e: "}var g=(0,c.useCallback)((function(){s().then((function(e){var t=[];e.forEach((function(e){var n=[e];t=[].concat((0,a.Z)(t),n)})),h([].concat((0,a.Z)(f),(0,a.Z)(t)))}))}),[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"container-fluid text-center bg-primary-subtle rounded py-1",children:(0,l.jsxs)("div",{className:"row p-2 my-2 align-items-center",children:[(0,l.jsx)("div",{className:"col-sm-7 fs-5 text-center text-sm-end",children:t}),(0,l.jsxs)("div",{className:"dropdown col-sm-5 fs-3 text-center text-sm-start",onClick:function(e){e.target.classList.contains("dropdown-item")&&v(e.target.value)},children:[(0,l.jsx)("button",{className:"btn btn-primary fs-5 shadow dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:p}),(0,l.jsx)(i.Z,{})]})]})}),(0,l.jsx)(N,{onGetCurrenciesByExchangeDate:g,allCurrencies:f,selectedMvp:p})]})}}}]);
//# sourceMappingURL=36.e520cddf.chunk.js.map